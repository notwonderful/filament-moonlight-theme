/**
 * Moonlight Theme for Filament PHP
 * Based on JetBrains Moonlight Theme colors
 * https://github.com/katarion/jetbrains-moonlight-theme
 *
 * IMPORTANT: This theme is designed for DARK MODE only.
 * All styles are wrapped in .dark selector to ensure they only apply in dark mode.
 */

:root {
    /* Moonlight Color Palette */
    --moonlight-background: #1e2030;
    --moonlight-background-alt: #1e2030;
    --moonlight-shadow: #16161c;
    --moonlight-accent: #2e303e;
    --moonlight-accent-alt: #6c6f93;
    --moonlight-border: #2f334d;
    --moonlight-border-dark: #191a2a;
    --moonlight-border-light: #444a73;

    /* Foreground Colors */
    --moonlight-foreground-bright: #d5def8;
    --moonlight-foreground-bright-2: #c8d3f5;
    --moonlight-foreground-main: #a9b8e8;
    --moonlight-foreground-dim: #828bb8;
    --moonlight-foreground-info: #5c6370;

    /* Accent Colors */
    --moonlight-accent-1: #fca7ea; /* Pink */
    --moonlight-accent-2: #c4a2ff; /* Purple */
    --moonlight-accent-3: #ffc777; /* Yellow/Orange */
    --moonlight-accent-4: #78dbff; /* Cyan */
    --moonlight-accent-5: #7af8ca; /* Green */

    /* Interactive Colors */
    --moonlight-hover: #2f334d;
    --moonlight-selection: #444a73;
    --moonlight-selection-inactive: #292E46;

    /* Status Colors */
    --moonlight-success: #50fa7b;
    --moonlight-error: #ff5370;
    --moonlight-warning: #ffc777;
    --moonlight-info: #78dbff;
}

.dark .fi-body,
.dark .fi-body:where(.dark, .dark *) {
    --fi-primary-50: 252 167 234; /* #fca7ea */
    --fi-primary-100: 250 147 228;
    --fi-primary-200: 248 127 222;
    --fi-primary-300: 246 107 216;
    --fi-primary-400: 244 87 210;
    --fi-primary-500: 252 167 234; /* Primary accent */
    --fi-primary-600: 196 162 255; /* #c4a2ff */
    --fi-primary-700: 140 157 255; /* #7cafff */
    --fi-primary-800: 120 219 255; /* #78dbff */
    --fi-primary-900: 122 248 202; /* #7af8ca */
    --fi-primary-950: 122 248 202;
}

/* Background Colors */
.dark .fi-body,
.dark .fi-main,
.dark .fi-sidebar,
.dark .fi-topbar {
    background-color: var(--moonlight-background) !important;
    color: var(--moonlight-foreground-bright) !important;
}

/* Sidebar Styling */
.dark .fi-sidebar {
    background-color: var(--moonlight-background-alt) !important;
    border-right-color: var(--moonlight-border) !important;
}

.dark .fi-sidebar-nav-item {
    color: var(--moonlight-foreground-main) !important;
}

.dark .fi-sidebar-nav-item:hover {
    background-color: var(--moonlight-hover) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-sidebar-nav-item-active {
    background-color: var(--moonlight-selection) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn {
    background-color: var(--moonlight-selection) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-label {
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon {
    color: var(--moonlight-foreground-bright) !important;
    background-color: transparent !important;
}

.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon svg,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon [x-ref="icon"] svg,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn svg,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn [x-ref="icon"] {
    color: var(--moonlight-foreground-bright) !important;
    background-color: transparent !important;
}

.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon path,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon circle,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon rect,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon polygon,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon use,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon g,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn svg path,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn svg circle,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn svg rect,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn svg polygon,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn svg use,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn svg g,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn [x-ref="icon"] path,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn [x-ref="icon"] circle,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn [x-ref="icon"] rect,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn [x-ref="icon"] polygon,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn [x-ref="icon"] use,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn [x-ref="icon"] g {
    fill: currentColor !important;
    stroke: currentColor !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-sidebar-item.fi-active svg * {
    fill: currentColor !important;
    stroke: currentColor !important;
}

.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn [x-ref="icon"] {
    background-color: transparent !important;
    background: none !important;
}

.dark .fi-sidebar-item.fi-active,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn {
    --primary-400: var(--moonlight-foreground-bright) !important;
    --primary-500: var(--moonlight-foreground-bright) !important;
    --primary-600: var(--moonlight-foreground-bright) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-topbar {
    background-color: var(--moonlight-background-alt) !important;
    border-bottom-color: var(--moonlight-border) !important;
}

.dark .fi-btn {
    background-color: var(--moonlight-accent) !important;
    color: var(--moonlight-foreground-bright) !important;
    border-color: var(--moonlight-border) !important;
}

.dark .fi-btn:hover:not(:disabled) {
    background-color: var(--moonlight-hover) !important;
    border-color: var(--moonlight-border-light) !important;
}

.dark .fi-btn-primary {
    background-color: var(--moonlight-selection) !important;
    color: var(--moonlight-foreground-bright) !important;
    border-color: var(--moonlight-border-light) !important;
}

.dark .fi-btn-primary:hover:not(:disabled) {
    background-color: var(--moonlight-hover) !important;
    border-color: var(--moonlight-border-light) !important;
}

.dark .fi-btn:disabled {
    opacity: 0.5 !important;
    cursor: not-allowed !important;
}

/* Forms */
.dark .fi-input,
.dark .fi-input-wrp input {
    background-color: var(--moonlight-background-alt) !important;
    color: var(--moonlight-foreground-bright) !important;
    border: 1px solid var(--moonlight-border) !important;
    border-radius: 0.375rem !important;
}

.dark .fi-input-wrp textarea {
    background-color: transparent !important;
    color: var(--moonlight-foreground-bright) !important;
    border: none !important;
    border-radius: 0.375rem !important;
}

.dark .fi-input:focus,
.dark .fi-input-wrp input:focus,
.dark .fi-input-wrp textarea:focus {
    border-color: var(--moonlight-accent-4) !important;
    border-width: 1px !important;
    box-shadow: 0 0 0 3px rgba(120, 219, 255, 0.1) !important;
    outline: none !important;
}

.dark .fi-input::placeholder,
.dark .fi-input-wrp input::placeholder,
.dark .fi-input-wrp textarea::placeholder {
    color: var(--moonlight-foreground-dim) !important;
}

/* Input wrapper */
.dark .fi-input-wrp {
    border: 1px solid var(--moonlight-border) !important;
    border-radius: 0.375rem !important;
    background-color: var(--moonlight-background-alt) !important;
}

.dark .fi-input-wrp:focus-within {
    border-color: var(--moonlight-accent-4) !important;
    box-shadow: 0 0 0 3px rgba(120, 219, 255, 0.1) !important;
}

/* Textarea wrapper */
.dark .fi-fo-textarea .fi-input-wrp,
.dark .fi-input-wrp.fi-fo-textarea {
    border: 1px solid var(--moonlight-border) !important;
    border-radius: 0.375rem !important;
}

.dark .fi-fo-textarea .fi-input-wrp:focus-within,
.dark .fi-input-wrp.fi-fo-textarea:focus-within {
    border-color: var(--moonlight-accent-4) !important;
    box-shadow: 0 0 0 3px rgba(120, 219, 255, 0.1) !important;
}

/* Form Fields */
.dark .fi-fo-field {
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-fo-field-label {
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-fo-field-label-content {
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-input-wrp-content-ctn {
    background-color: transparent !important;
}

.dark .fi-input-wrp textarea:focus {
    border: none !important;
    box-shadow: none !important;
    outline: none !important;
}

/* Schema Components Text */
.dark .fi-sc-text {
    color: var(--moonlight-foreground-dim) !important;
}

/* Tables */
.dark .fi-ta-table {
    background-color: var(--moonlight-background-alt) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-ta-ctn,
.dark .fi-ta-ctn:where(.dark, .dark *) {
    background-color: var(--moonlight-background-alt) !important;
    --tw-ring-color: rgba(47, 51, 77, 0.1) !important; /* --moonlight-border with opacity */
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-ta-header {
    background-color: var(--moonlight-accent) !important;
    color: var(--moonlight-foreground-bright) !important;
    border-bottom-color: var(--moonlight-border) !important;
}

.dark .fi-ta-header-cell {
    color: var(--moonlight-foreground-bright) !important;
    font-weight: 600 !important;
}

.dark .fi-ta-header-cell button {
    color: var(--moonlight-foreground-main) !important;
}

.dark .fi-ta-header-cell button:hover {
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-ta-row {
    border-bottom-color: var(--moonlight-border) !important;
    color: var(--moonlight-foreground-main) !important;
}

.dark .fi-ta-row:hover {
    background-color: var(--moonlight-hover) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-ta-row-selected {
    background-color: var(--moonlight-selection) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-ta-cell {
    color: inherit !important;
}

/* Sections */
.dark .fi-section {
    background-color: var(--moonlight-background-alt) !important;
    border-color: var(--moonlight-border) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-section-header {
    background-color: transparent !important;
    color: var(--moonlight-foreground-bright) !important;
    border-bottom-color: var(--moonlight-border) !important;
}

.dark .fi-section-header-heading {
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-section-content-ctn {
    background-color: transparent !important;
}

.dark .fi-section-content {
    background-color: transparent !important;
    color: var(--moonlight-foreground-bright) !important;
}

/* Modals */
.dark .fi-modal {
    background-color: var(--moonlight-background-alt) !important;
    border-color: var(--moonlight-border) !important;
}

.dark .fi-modal-header {
    background-color: var(--moonlight-accent) !important;
    color: var(--moonlight-foreground-bright) !important;
    border-bottom-color: var(--moonlight-border) !important;
}

/* Badges */
.dark .fi-badge {
    background-color: var(--moonlight-accent) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-badge-success {
    background-color: var(--moonlight-success) !important;
    color: var(--moonlight-background) !important;
}

.dark .fi-badge-danger {
    background-color: var(--moonlight-error) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-badge-warning {
    background-color: var(--moonlight-warning) !important;
    color: var(--moonlight-background) !important;
}

/* Links */
.dark .fi-link {
    color: var(--moonlight-accent-4) !important;
    text-decoration: none !important;
    transition: color 0.2s ease !important;
}

.dark .fi-link:hover {
    color: var(--moonlight-foreground-bright) !important;
    text-decoration: underline !important;
}

.dark .fi-link:focus {
    color: var(--moonlight-accent-4) !important;
    outline: 2px solid var(--moonlight-accent-4) !important;
    outline-offset: 2px !important;
}

.dark .fi-link:visited {
    color: var(--moonlight-accent-2) !important;
}

/* Tabs - Schema Components */
.dark .fi-sc-tabs.fi-contained {
    background-color: var(--moonlight-background-alt) !important;
    border-color: var(--moonlight-border) !important;
}

.dark .fi-tabs.fi-contained {
    background-color: transparent !important;
}

/* Tab Items */
.dark .fi-tabs-item {
    color: var(--moonlight-foreground-main) !important;
    background-color: transparent !important;
    border-color: transparent !important;
}

.dark .fi-tabs-item:hover {
    background-color: var(--moonlight-hover) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-tabs-item.fi-active {
    background-color: var(--moonlight-selection) !important; /* #444a73 - как активный элемент сайдбара */
    color: var(--moonlight-foreground-bright) !important; /* Светлый текст */
    border-color: var(--moonlight-border-light) !important;
    border-bottom: 2px solid var(--moonlight-accent-4) !important; /* Подчеркивание голубым */
}

.dark .fi-tabs-item-label {
    color: inherit !important;
}

.dark .fi-tabs-item.fi-active .fi-tabs-item-label {
    color: var(--moonlight-foreground-bright) !important;
    font-weight: 600 !important;
}

/* Tab Panels */
.dark .fi-sc-tabs-tab {
    background-color: var(--moonlight-background-alt) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-sc-tabs-tab.fi-active {
    background-color: var(--moonlight-background-alt) !important;
}

/* Dropdowns */
.dark .fi-dropdown {
    background-color: var(--moonlight-background-alt) !important;
    border-color: var(--moonlight-border) !important;
}

/* Dropdown Panel - панель фильтров */
.dark .fi-dropdown-panel,
.dark .fi-dropdown-panel:where(.dark, .dark *) {
    background-color: var(--moonlight-background-alt) !important;
    border-color: var(--moonlight-border) !important;
    --tw-ring-color: rgba(47, 51, 77, 0.5) !important; /* --moonlight-border с прозрачностью */
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-dropdown-item {
    color: var(--moonlight-foreground-main) !important;
}

.dark .fi-dropdown-item:hover {
    background-color: var(--moonlight-hover) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-dropdown-panel .fi-input,
.dark .fi-dropdown-panel .fi-input-wrp input,
.dark .fi-dropdown-panel .fi-input-wrp select,
.dark .fi-dropdown-panel .fi-select {
    background-color: var(--moonlight-accent) !important;
    color: var(--moonlight-foreground-bright) !important;
    border-color: var(--moonlight-border) !important;
}

.dark .fi-dropdown-panel .fi-input:focus,
.dark .fi-dropdown-panel .fi-input-wrp input:focus,
.dark .fi-dropdown-panel .fi-input-wrp select:focus,
.dark .fi-dropdown-panel .fi-select:focus {
    border-color: var(--moonlight-accent-4) !important;
    box-shadow: 0 0 0 3px rgba(120, 219, 255, 0.1) !important;
}

.dark .fi-dropdown-panel .fi-input::placeholder,
.dark .fi-dropdown-panel .fi-input-wrp input::placeholder {
    color: var(--moonlight-foreground-dim) !important;
}

.dark .fi-dropdown-panel .fi-fo-field-label,
.dark .fi-dropdown-panel .fi-fo-field-label-content {
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-dropdown-panel .fi-btn {
    background-color: var(--moonlight-accent) !important;
    color: var(--moonlight-foreground-bright) !important;
    border-color: var(--moonlight-border) !important;
}

.dark .fi-dropdown-panel .fi-btn:hover:not(:disabled) {
    background-color: var(--moonlight-hover) !important;
    border-color: var(--moonlight-border-light) !important;
}

.dark .fi-dropdown-panel .fi-btn-primary {
    background-color: var(--moonlight-accent-4) !important; /* Голубой для кнопки "Применить" */
    color: var(--moonlight-background) !important; /* Темный текст на светлом фоне */
    border-color: var(--moonlight-accent-4) !important;
}

.dark .fi-dropdown-panel .fi-btn-primary:hover:not(:disabled) {
    background-color: var(--moonlight-accent-4) !important;
    opacity: 0.9 !important;
    filter: brightness(0.95) !important;
}

.dark .fi-dropdown-panel .fi-link {
    color: var(--moonlight-foreground-main) !important;
}

.dark .fi-dropdown-panel .fi-link:hover {
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-notification {
    background-color: var(--moonlight-background-alt) !important;
    border-color: var(--moonlight-border) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-notification-success {
    border-left-color: var(--moonlight-success) !important;
}

.dark .fi-notification-danger {
    border-left-color: var(--moonlight-error) !important;
}

.dark .fi-notification-warning {
    border-left-color: var(--moonlight-warning) !important;
}

.dark .fi-notification-info {
    border-left-color: var(--moonlight-info) !important;
}

/* Breadcrumbs */
.dark .fi-breadcrumbs {
    color: var(--moonlight-foreground-main) !important;
}

.dark .fi-breadcrumbs-item {
    color: var(--moonlight-foreground-main) !important;
}

.dark .fi-breadcrumbs-item:hover {
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-breadcrumbs-separator {
    color: var(--moonlight-foreground-dim) !important;
}

/* Search Field */
.dark .fi-search-field {
    background-color: var(--moonlight-background-alt) !important;
    border-color: var(--moonlight-border) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-search-field:focus,
.dark .fi-search-field:focus-within {
    border-color: var(--moonlight-accent-4) !important;
    box-shadow: 0 0 0 3px rgba(120, 219, 255, 0.1) !important;
}

.dark .fi-search-field input {
    background-color: transparent !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-search-field input::placeholder {
    color: var(--moonlight-foreground-dim) !important;
}

.dark .fi-search-field-icon {
    color: var(--moonlight-foreground-main) !important;
}

/* Empty State */
.dark .fi-empty-state {
    color: var(--moonlight-foreground-main) !important;
}

.dark .fi-empty-state-icon {
    color: var(--moonlight-foreground-dim) !important;
    background-color: var(--moonlight-accent) !important;
}

.dark .fi-empty-state-heading {
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-empty-state-description {
    color: var(--moonlight-foreground-main) !important;
}

/* Page Header */
.dark .fi-header {
    background-color: transparent !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-header-heading {
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-header-subheading {
    color: var(--moonlight-foreground-main) !important;
}

/* Checkboxes and Radio Buttons */
.dark .fi-checkbox input,
.dark .fi-radio input {
    background-color: var(--moonlight-background-alt) !important;
    border-color: var(--moonlight-border) !important;
}

.dark .fi-checkbox input:checked,
.dark .fi-radio input:checked {
    background-color: var(--moonlight-accent-4) !important; /* Голубой вместо розового */
    border-color: var(--moonlight-accent-4) !important;
}

.dark .fi-checkbox input:focus,
.dark .fi-radio input:focus {
    border-color: var(--moonlight-accent-4) !important;
    box-shadow: 0 0 0 3px rgba(120, 219, 255, 0.1) !important;
}

/* Checkbox and Radio inside dropdown */
.dark .fi-dropdown-panel .fi-checkbox input,
.dark .fi-dropdown-panel .fi-radio input {
    background-color: var(--moonlight-accent) !important;
    border-color: var(--moonlight-border) !important;
}

.dark .fi-dropdown-panel .fi-checkbox input:checked,
.dark .fi-dropdown-panel .fi-radio input:checked {
    background-color: var(--moonlight-accent-4) !important;
    border-color: var(--moonlight-accent-4) !important;
}

/* Select Dropdowns */
.dark .fi-select {
    background-color: var(--moonlight-background-alt) !important;
    color: var(--moonlight-foreground-bright) !important;
    border-color: var(--moonlight-border) !important;
}

.dark .fi-select:focus {
    border-color: var(--moonlight-accent-4) !important;
    box-shadow: 0 0 0 3px rgba(120, 219, 255, 0.1) !important;
}

.dark .fi-select-option {
    background-color: var(--moonlight-background-alt) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-select-option:hover {
    background-color: var(--moonlight-hover) !important;
}

.dark .fi-select-option-selected {
    background-color: var(--moonlight-selection) !important;
    color: var(--moonlight-foreground-bright) !important;
}

/* Select inside dropdown panel */
.dark .fi-dropdown-panel .fi-select-option {
    background-color: var(--moonlight-accent) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-dropdown-panel .fi-select-option:hover {
    background-color: var(--moonlight-hover) !important;
}

.dark .fi-dropdown-panel .fi-select-option-selected {
    background-color: var(--moonlight-selection) !important;
}

/* Scrollbars */
.dark ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

.dark ::-webkit-scrollbar-track {
    background: var(--moonlight-background) !important;
}

.dark ::-webkit-scrollbar-thumb {
    background: var(--moonlight-accent-alt) !important;
    border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb:hover {
    background: var(--moonlight-border-light) !important;
}

/* Code Blocks */
.dark code,
.dark pre {
    background-color: var(--moonlight-accent) !important;
    color: var(--moonlight-foreground-bright) !important;
    border-color: var(--moonlight-border) !important;
}

/* Loading Indicators */
.dark .fi-loading-indicator {
    color: var(--moonlight-accent-4) !important;
}

/* Tooltips */
.dark .fi-tooltip {
    background-color: var(--moonlight-background-alt) !important;
    color: var(--moonlight-foreground-bright) !important;
    border-color: var(--moonlight-border) !important;
}

/* Override Filament's dark mode gray colors */
.dark .fi-sc-tabs.fi-contained,
.dark .fi-sc-tabs.fi-contained * {
    background-color: var(--moonlight-background-alt) !important;
    --tw-ring-color: rgba(47, 51, 77, 0.1) !important; /* --moonlight-border with opacity */
}

.dark .fi-section,
.dark .fi-section * {
    background-color: var(--moonlight-background-alt) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-input-wrp,
.dark .fi-input-wrp textarea,
.dark .fi-input-wrp input {
    background-color: var(--moonlight-background-alt) !important;
    color: var(--moonlight-foreground-bright) !important;
    border-color: var(--moonlight-border) !important;
}

/* Dropdown Panel в dark mode */
.dark .fi-dropdown-panel,
.dark .fi-dropdown-panel:where(.dark, .dark *) {
    background-color: var(--moonlight-background-alt) !important;
    border-color: var(--moonlight-border) !important;
    --tw-ring-color: rgba(47, 51, 77, 0.5) !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-dropdown-panel .fi-input,
.dark .fi-dropdown-panel .fi-input-wrp input,
.dark .fi-dropdown-panel .fi-input-wrp select,
.dark .fi-dropdown-panel .fi-select {
    background-color: var(--moonlight-accent) !important;
    color: var(--moonlight-foreground-bright) !important;
    border-color: var(--moonlight-border) !important;
}

.dark .fi-dropdown-panel .fi-btn-primary {
    background-color: var(--moonlight-accent-4) !important;
    color: var(--moonlight-background) !important;
    border-color: var(--moonlight-accent-4) !important;
}

.dark {
    --primary-400: var(--moonlight-foreground-bright) !important;
    --primary-500: var(--moonlight-foreground-bright) !important;
}

.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-label {
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon {
    color: var(--moonlight-foreground-bright) !important;
    background-color: transparent !important;
}

.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon svg,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon [x-ref="icon"] svg,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn svg,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn [x-ref="icon"] {
    color: var(--moonlight-foreground-bright) !important;
    background-color: transparent !important;
}

.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon path,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon circle,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon rect,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon polygon,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon use,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn > .fi-sidebar-item-icon g,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn svg path,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn svg circle,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn svg rect,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn svg polygon,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn svg use,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn svg g,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn [x-ref="icon"] path,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn [x-ref="icon"] circle,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn [x-ref="icon"] rect,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn [x-ref="icon"] polygon,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn [x-ref="icon"] use,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn [x-ref="icon"] g {
    fill: currentColor !important;
    stroke: currentColor !important;
    color: var(--moonlight-foreground-bright) !important;
}

.dark .fi-sidebar-item.fi-active svg * {
    fill: currentColor !important;
    stroke: currentColor !important;
}

.dark .fi-sidebar-item.fi-active,
.dark .fi-sidebar-item.fi-active > .fi-sidebar-item-btn {
    --primary-400: var(--moonlight-foreground-bright) !important;
    --primary-500: var(--moonlight-foreground-bright) !important;
    --primary-600: var(--moonlight-foreground-bright) !important;
    color: var(--moonlight-foreground-bright) !important;
}
